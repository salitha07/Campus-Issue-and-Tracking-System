<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Campus Issue Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Modern font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;700;800;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link th:href="@{/css/landing.css}" rel="stylesheet">
</head>

<body>
<main class="landing">

    <!-- Parallax background layers -->
    <div class="bg-layer" aria-hidden="true"></div>
    <div class="bg-overlay" aria-hidden="true"></div>

    <!-- Top-left system name -->
    <header class="topbar">
        <span class="system-name">Campus Issue Tracker</span>
    </header>

    <!-- HERO (visible on load only) -->
    <section class="hero">
        <h1 class="hero-title animate fade-up delay-1">
            Keep the campus safe, clean, and working â€”
            <span class="grad">report issues in seconds.</span>
        </h1>

        <p class="hero-sub animate fade-up delay-2">
            This platform helps NSBM students and staff report maintenance and safety issues fast,
            so the relevant team can respond quickly and update the status transparently.
        </p>
    </section>

    <!-- SCROLL CONTENT -->
    <section class="scroll-section">
        <div class="big-actions" th:if="${#authorization.expression('isAnonymous()')}">
            <a class="btn btn-primary-solid btn-xl" th:href="@{/login}">Login</a>
            <a class="btn btn-outline-light btn-xl" th:href="@{/signup}">Register</a>
        </div>

        <div class="big-actions" th:if="${#authorization.expression('isAuthenticated()')}">
            <a class="btn btn-primary-solid btn-xl" th:href="@{/dashboard}">Go to Dashboard</a>
        </div>

        <div class="info-cards">
            <div class="info-card">
                <h4>Fast Reporting</h4>
                <p>Submit issues with clear location details and photos.</p>
            </div>

            <div class="info-card">
                <h4>Anonymous Option</h4>
                <p>Report issues without revealing your identity.</p>
            </div>

            <div class="info-card">
                <h4>Status Tracking</h4>
                <p>Track progress until the issue is resolved.</p>
            </div>
        </div>
    </section>

</main>

<script>
    (function () {
      const bg = document.querySelector(".bg-layer");
      if (!bg) return;

      let latestY = 0;
      let ticking = false;

      function update() {
        ticking = false;
        // Parallax speed: 0.18 (lower = slower, higher = faster)
        const offset = latestY * 0.18;
        bg.style.transform = `translate3d(0, ${offset}px, 0) scale(1.06)`;
      }

      function onScroll() {
        latestY = window.scrollY || 0;
        if (!ticking) {
          ticking = true;
          requestAnimationFrame(update);
        }
      }

      // initial
      onScroll();
      window.addEventListener("scroll", onScroll, { passive: true });
    })();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
